<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="改变、突破">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="改变、突破">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ycc">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>改变、突破</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">改变、突破</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">年轻人一番作为海纳百川，苦心人笑看风云勇往直前</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/28/20210528_Fiddler%E6%8A%93%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/28/20210528_Fiddler%E6%8A%93%E5%8C%85/" class="post-title-link" itemprop="url">Fiddler</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-28 09:22:30" itemprop="dateCreated datePublished" datetime="2021-05-28T09:22:30+08:00">2021-05-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Fiddler的配置"><a href="#Fiddler的配置" class="headerlink" title="Fiddler的配置"></a>Fiddler的配置</h1><p><img src="%5Cimages%5Cfiddler%5C20210528_fiddler_1.jpg"></p>
<ol>
<li><p>在HTTPS选项卡Actions上，选择<code>Trust Root Certificate</code>安装证书</p>
<p><img src="%5Cimages%5Cfiddler%5C20210528_fiddler_2.png"></p>
</li>
<li><p>左下角模式为Captuing，选项栏勾选<code>Stream（流模式和缓冲模式切换，默认是缓冲模式，默认所有的 http 请求数据都返回给fiddler它才会在控制面板展示出来）</code>和<code>Decode（解压请求）</code></p>
</li>
<li><p>在右侧Filters选项卡，按条件使用，如Show only if URL contains填入.m3u8，或Ctrl+F搜索m3u8</p>
</li>
</ol>
<h1 id="系统代理设置"><a href="#系统代理设置" class="headerlink" title="系统代理设置"></a>系统代理设置</h1><p>IE浏览器打开Internet选项，修改<code>局域网设置</code></p>
<ol>
<li>勾选<code>为LAN使用代理服务器</code>，并配置地址为127.0.0.1，端口8888</li>
<li>关闭自动配置，<code>自动检测设置</code>，<code>使用自动配置脚本</code></li>
</ol>
<p>如Chrome使用了SwitchyOmega，修改成<code>系统代理</code></p>
<h1 id="Fiddler的应用"><a href="#Fiddler的应用" class="headerlink" title="Fiddler的应用"></a>Fiddler的应用</h1><h2 id="一、应用使用"><a href="#一、应用使用" class="headerlink" title="一、应用使用"></a>一、应用使用</h2><h3 id="应用代理配置"><a href="#应用代理配置" class="headerlink" title="应用代理配置"></a>应用代理配置</h3><ul>
<li><p>方法一</p>
<ul>
<li>使用浏览器代理，其它不需要修改即可</li>
</ul>
</li>
<li><p>方法二</p>
<ul>
<li>类型：HTTP代理</li>
<li>地址：127.0.0.1</li>
<li>端口：8888</li>
</ul>
</li>
</ul>
<h3 id="N-m3u8DL-CLI-SimpleG下载"><a href="#N-m3u8DL-CLI-SimpleG下载" class="headerlink" title="N_m3u8DL-CLI-SimpleG下载"></a>N_m3u8DL-CLI-SimpleG下载</h3><ol>
<li><p>右键save-》Response-》Response Body到本地文件-》放入M3u8地址</p>
</li>
<li><p>右键copy-》Just Url-》将红框内容粘贴到BASEURL里面<img src="https://pic1.zhimg.com/80/v2-f4eb3c975c942624497eba0f0f5a3ec2_720w.jpg?source=1940ef5c" alt="img"></p>
</li>
<li><p>点击Go</p>
</li>
</ol>
<h3 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h3><p>Q: 如果需要下载多个视频，比较麻烦怎么办？</p>
<p>A: 可以先抓出所有 M3U8 链接，有三种方法批量下载：</p>
<ol>
<li>将 m3u8 链接每行一个存入一个<code>.txt</code> 文件，然后将文件直接拖到 <code>M3U8地址</code>文本框，点击 <code>GO</code> 按钮</li>
<li>将 m3u8 文件存到一个文件夹中，然后将文件夹直接拖到 <code>M3U8地址</code>文本框，点击 <code>GO</code> 按钮</li>
</ol>
<h2 id="二、断点调试"><a href="#二、断点调试" class="headerlink" title="二、断点调试"></a>二、断点调试</h2><p>略…</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/376490136/answer/1113194185">https://www.zhihu.com/question/376490136/answer/1113194185</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39883139/article/details/98853135">https://blog.csdn.net/weixin_39883139/article/details/98853135</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/04/20201104_Chrome%20Stylus%E5%AF%B9CSDN%E7%9A%84%E6%A0%B7%E5%BC%8F%E4%BF%AE%E6%94%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/04/20201104_Chrome%20Stylus%E5%AF%B9CSDN%E7%9A%84%E6%A0%B7%E5%BC%8F%E4%BF%AE%E6%94%B9/" class="post-title-link" itemprop="url">Chrome Stylus对CSDN的样式修改</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-04 16:35:29" itemprop="dateCreated datePublished" datetime="2020-11-04T16:35:29+08:00">2020-11-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#csdn-toolbar</span>,</span><br><span class="line"><span class="selector-class">.article-info-box</span>,</span><br><span class="line"><span class="selector-class">.hide-article-box</span>,</span><br><span class="line"><span class="selector-class">.blog-expert-recommend-box</span>,</span><br><span class="line"><span class="selector-class">.recommend-item-box</span><span class="selector-class">.type_hot_word</span>,</span><br><span class="line"><span class="selector-class">.recommend-ad-box</span>,</span><br><span class="line"><span class="selector-class">.isGreatIcon</span>,</span><br><span class="line"><span class="selector-class">.tool-box</span>,</span><br><span class="line"><span class="selector-class">.meau-gotop-box</span>,</span><br><span class="line"><span class="selector-class">.more-toolbox</span>,</span><br><span class="line"><span class="selector-class">.recommend-end-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: source-han-serif-tc, -apple-system, BlinkMacSystemFont, <span class="string">&quot;Segoe UI&quot;</span>,</span><br><span class="line">    Roboto, Oxygen, Ubuntu, Cantarell, <span class="string">&quot;Fira Sans&quot;</span>, <span class="string">&quot;Droid Sans&quot;</span>, <span class="string">&quot;Helvetica Neue&quot;</span>,</span><br><span class="line">    sans-serif <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">min-width</span>: unset;</span><br><span class="line">  <span class="attribute">background</span>: none <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0.8</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article_content</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mainBox</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">  <span class="attribute">margin-right</span>: auto;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mainBox</span> &gt; <span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mainBox</span> &gt; <span class="selector-tag">aside</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: unset <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pulllog-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">3rem</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-box</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;相关文章&quot;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-item-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">25rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-item-box</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-item-box</span> <span class="selector-class">.content</span>,</span><br><span class="line"><span class="selector-class">.recommend-item-box</span> <span class="selector-tag">h4</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog_title_box</span><span class="selector-class">.oneline</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/04/20201104_AndroidStudio%20MVP%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/04/20201104_AndroidStudio%20MVP%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C/" class="post-title-link" itemprop="url">AndroidStudio自定义模板MVP templates制作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-04 16:32:50" itemprop="dateCreated datePublished" datetime="2020-11-04T16:32:50+08:00">2020-11-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>放入AS模板路径下： plugins\android\lib\templates\activities </p>
<blockquote>
<p>github 地址：<br><a target="_blank" rel="noopener" href="https://github.com/chenyinchao/MVP-templates">https://github.com/chenyinchao/MVP-templates</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/29/20201027_RxJava%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/20201027_RxJava%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">RxJava全局异常处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-29 01:22:53" itemprop="dateCreated datePublished" datetime="2020-10-29T01:22:53+08:00">2020-10-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">RxJava事件通过.subscribe进行订阅，在subscribe方法中，最终传到LambdaObserver类中</span><br><span class="line">LambdaObserver&lt;T&gt; ls = <span class="keyword">new</span> LambdaObserver&lt;T&gt;(onNext, onError, onComplete, onSubscribe);</span><br><span class="line"></span><br><span class="line">在LambdaObserver中，所有的事件都进行了<span class="keyword">try</span>...<span class="keyword">catch</span>，最终oNext抛出的异常都流转到onError方法中，若onError抛出异常则最终流转到RxJavaPlugins.onError中处理;即在在BaseApplication.java中进行异常处理。</span><br><span class="line">其中，当在onError中抛出异常，则走到RxJavaPlugins.onError(<span class="keyword">new</span> CompositeException(t, e));这里会进行遍历打印所有的异常，属于异常中的异常，即抛出CompositeException</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!isDisposed()) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                onNext.accept(t);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">                Exceptions.throwIfFatal(e);</span><br><span class="line">                get().dispose();</span><br><span class="line">                onError(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!isDisposed()) &#123;</span><br><span class="line">            lazySet(DisposableHelper.DISPOSED);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                onError.accept(t);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">                Exceptions.throwIfFatal(e);</span><br><span class="line">                RxJavaPlugins.onError(<span class="keyword">new</span> CompositeException(t, e));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            RxJavaPlugins.onError(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">在BaseApplication.java中进行全局异常处理</span><br><span class="line"> RxJavaPlugins.setErrorHandler(throwable -&gt; &#123;</span><br><span class="line">            StringBuffer stringBuffer = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;全局异常，所有CompositeException异常:&quot;</span>);</span><br><span class="line">            LogUtils.e(<span class="string">&quot;全局异常：setErrorHandler ---&gt; throwable name: &quot;</span> + throwable.getClass().getName());</span><br><span class="line">            <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> CompositeException) &#123;</span><br><span class="line">                List&lt;Throwable&gt; exceptions = ((CompositeException)throwable).getExceptions();</span><br><span class="line">                <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span> (Throwable exception : exceptions) &#123;</span><br><span class="line">                    stringBuffer.append(<span class="string">&quot; &quot;</span>).append(i++).append(<span class="string">&quot;、&quot;</span>).append(exception.getClass().getName());</span><br><span class="line">                    <span class="keyword">if</span> (!(exception <span class="keyword">instanceof</span> ParseException)) &#123;</span><br><span class="line">                        LogUtils.e(exception);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 打印所有CompositeException异常</span></span><br><span class="line">                LogUtils.e(stringBuffer);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                LogUtils.e(throwable);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 代码问题，非业务逻辑异常</span></span><br><span class="line">            ToastUtils.showShort(<span class="string">&quot;Non-business logic exception&quot;</span>);</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/29/20201029_Android%E6%A8%A1%E6%8B%9F%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E8%84%9A%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/20201029_Android%E6%A8%A1%E6%8B%9F%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">Android模拟点击事件脚本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-29 01:22:53" itemprop="dateCreated datePublished" datetime="2020-10-29T01:22:53+08:00">2020-10-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="模拟操作修改wifi代理，便于切换代理fiddler抓包"><a href="#模拟操作修改wifi代理，便于切换代理fiddler抓包" class="headerlink" title="模拟操作修改wifi代理，便于切换代理fiddler抓包"></a>模拟操作修改wifi代理，便于切换代理fiddler抓包</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回主界面</span></span><br><span class="line">adb shell input keyevent <span class="number">3</span></span><br><span class="line"><span class="comment">// 打开WiFi设置界面</span></span><br><span class="line">adb shell am start -a android.intent.action.MAIN -n com.android.settings/.wifi.WifiSettings</span><br><span class="line"></span><br><span class="line"><span class="comment">// 长按</span></span><br><span class="line">adb shell input swipe startX startY startX startY <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 滑动解锁</span></span><br><span class="line">adb shell input swipe <span class="number">300</span> <span class="number">1000</span> <span class="number">300</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 长按，两个坐标一样，长按时间ms</span></span><br><span class="line">adb shell input swipe <span class="number">300</span> <span class="number">260</span> <span class="number">300</span> <span class="number">260</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟鼠标点击操作</span></span><br><span class="line">adb shell input mouse tap <span class="number">300</span> <span class="number">440</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 长按全选</span></span><br><span class="line">adb shell input swipe <span class="number">300</span> <span class="number">260</span> <span class="number">300</span> <span class="number">260</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全选删除</span></span><br><span class="line">adb shell input keyevent <span class="number">67</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输入字符 192.168.43.231</span></span><br><span class="line">adb shell input text <span class="number">192.168</span><span class="number">.43</span><span class="number">.231</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 向上滑</span></span><br><span class="line">adb shell input touchscreen swipe <span class="number">300</span> <span class="number">188</span> <span class="number">300</span> <span class="number">38</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟鼠标点击操作 --》 点击端口</span></span><br><span class="line">adb shell input mouse tap <span class="number">300</span> <span class="number">210</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 长按全选</span></span><br><span class="line">adb shell input swipe <span class="number">300</span> <span class="number">210</span> <span class="number">300</span> <span class="number">210</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全选删除</span></span><br><span class="line">adb shell input keyevent <span class="number">67</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 输入字符 192.168.43.231</span></span><br><span class="line">adb shell input text <span class="number">8888</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 点击保存</span></span><br><span class="line">adb shell input mouse tap <span class="number">280</span> <span class="number">425</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 其它</span></span><br><span class="line">开启飞行模式：<span class="function">adb shell settings put global <span class="title">airplane_mode_on</span> <span class="params">(<span class="number">0</span>==关闭，<span class="number">1</span>==开启)</span></span></span><br><span class="line"><span class="function">清除应用数据与缓存: adb shell pm clear cn.com.test.mobile</span></span><br><span class="line"><span class="function">启动应用: adb shell am start -n cn.com.test.mobile/.ui.SplashActivity </span></span><br><span class="line"><span class="function">停止应用：adb shell am force-stop cn.com.test.mobile</span></span><br><span class="line"><span class="function">获取系统默认输入法：adb shell settings get secure default_input_method</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/29/20201027_Rxhttp%E8%AF%B7%E6%B1%82log%E6%89%93%E5%8D%B0%EF%BC%8C%E5%8F%8A%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/20201027_Rxhttp%E8%AF%B7%E6%B1%82log%E6%89%93%E5%8D%B0%EF%BC%8C%E5%8F%8A%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">Rxhttp请求log打印，及异常分类处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-29 01:22:53" itemprop="dateCreated datePublished" datetime="2020-10-29T01:22:53+08:00">2020-10-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="给-Okhttp-添加拦截器，LoggingInterceptor"><a href="#给-Okhttp-添加拦截器，LoggingInterceptor" class="headerlink" title="给 Okhttp 添加拦截器，LoggingInterceptor"></a>给 Okhttp 添加拦截器，LoggingInterceptor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">在BaseApplication中，我们初始化Okhttp增加一个LoggingInterceptor拦截器，专门处理每个请求</span><br><span class="line"><span class="keyword">new</span> OkHttpClient.Builder().addInterceptor(<span class="keyword">new</span> LoggingInterceptor())</span><br><span class="line"></span><br><span class="line">LoggingInterceptor.java类，打印响应时间，header，body，url，请求方式等一切response数据，输出到本地log日志中保存</span><br><span class="line"><span class="function"><span class="keyword">public</span> Response <span class="title">intercept</span><span class="params">(<span class="meta">@NotNull</span> Chain chain)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 请求发起的时间</span></span><br><span class="line">        <span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line">        <span class="comment">// 这个chain里面包含了request和response，所以你要什么都可以从这里拿</span></span><br><span class="line">        Request request = chain.request();</span><br><span class="line">        Response response = chain.proceed(request);</span><br><span class="line">        <span class="comment">// 收到响应的时间</span></span><br><span class="line">        <span class="keyword">long</span> t2 = System.nanoTime();</span><br><span class="line">        <span class="comment">// 当前时间</span></span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;HH:mm:ss:SSS&quot;</span>, Locale.getDefault());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String result = getResult(response.body(), isOnResultDecoder(response));</span><br><span class="line">            StringBuilder builder =</span><br><span class="line">                <span class="keyword">new</span> StringBuilder().append(<span class="string">&quot;\n\n&quot;</span>).append(<span class="string">&quot;\n&quot;</span> + dateFormat.format(calendar.getTime()) + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                    .append(String.format(<span class="string">&quot;====== start 响应时间：%.1fms &quot;</span>, (t2 - t1) / <span class="number">1e6d</span>)).append(<span class="string">&quot;Method=&quot;</span>)</span><br><span class="line">                    .append(request.method()).append(<span class="string">&quot; Code=&quot;</span>).append(response.code()).append(<span class="string">&quot; =======&gt;&quot;</span> + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                    .append(getEncodedUrlAndParams(request)).append(<span class="string">&quot;\n&quot;</span>).append(response.headers()).append(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                    .append(result).append(<span class="string">&quot;\n&quot;</span> + <span class="string">&quot;&lt;===== end ============================================&quot;</span> + <span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">            LogUtils.i(builder.toString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            LogUtils.e(<span class="string">&quot;Request end Log printing failed&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="处理请求回调异常"><a href="#处理请求回调异常" class="headerlink" title="处理请求回调异常"></a>处理请求回调异常</h3><p>ObservableLife 类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Disposable <span class="title">subscribe</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; onNext, Consumer&lt;? <span class="keyword">super</span> Throwable&gt; onError)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> subscribe(onNext, onError, Functions.EMPTY_ACTION, Functions.emptyConsumer());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>LambdaObserver 类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable t)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!isDisposed()) &#123;</span><br><span class="line">           lazySet(DisposableHelper.DISPOSED);</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               onError.accept(t);</span><br><span class="line">           &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">               Exceptions.throwIfFatal(e);</span><br><span class="line">               RxJavaPlugins.onError(<span class="keyword">new</span> CompositeException(t, e));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           RxJavaPlugins.onError(t);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>扩展 subscribe 方法里的 onError 接口，当出现异常时，会调用默认的 accept 方法，当 accept 方法里面处理不了，则抛出 异常到 throw (Exception)throwable; 即在全局异常中捕获</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnError</span> <span class="keyword">extends</span> <span class="title">Consumer</span>&lt;<span class="title">Throwable</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 网络接口异常</span></span><br><span class="line">        LogUtils.i(<span class="string">&quot;throwable name: &quot;</span> + throwable.getClass().getName());</span><br><span class="line">        <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> SocketException || throwable <span class="keyword">instanceof</span> InterruptedIOException) &#123;</span><br><span class="line">            ToastUtils.showShort(<span class="string">&quot;请检查网络或服务器连接！&quot;</span>);</span><br><span class="line">            <span class="comment">// 后端接口请求异常，Http 状态码 小于200或者大于等于300时,或者ResponseBody等于null，抛出此异常</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> HttpStatusCodeException) &#123;</span><br><span class="line">            String statusCode = ((HttpStatusCodeException)throwable).getStatusCode();</span><br><span class="line">            <span class="keyword">switch</span> (statusCode) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;403&quot;</span>:</span><br><span class="line">                    <span class="comment">// token 过期</span></span><br><span class="line">                    ToastUtils.showShort(<span class="string">&quot;403 Forbidden 请重新登录!&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    ToastUtils.showShort(<span class="string">&quot;接口网络请求异常，statusCode： &quot;</span> + statusCode);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> ParseException) &#123;</span><br><span class="line">            String requestResult = ((ParseException)throwable).getRequestResult();</span><br><span class="line">            <span class="keyword">switch</span> (requestResult) &#123;</span><br><span class="line">                <span class="comment">// 0，result返回null</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;0&quot;</span>:</span><br><span class="line">                    ToastUtils.showShort(<span class="string">&quot;数据解析不正确，Gson解析失败&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 1，isSuccess返回false</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;1&quot;</span>:</span><br><span class="line">                    <span class="comment">// todo 内部错误场景</span></span><br><span class="line">                    onError(throwable);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 2，data字段为null</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;2&quot;</span>:</span><br><span class="line">                    ToastUtils.showShort(<span class="string">&quot;接口返回data为null&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> Exception) &#123;</span><br><span class="line">                <span class="comment">// 在全局异常中捕获</span></span><br><span class="line">                <span class="keyword">throw</span> (Exception)throwable;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 异常接口回调</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/25/20201025_%E7%A6%81%E7%94%A8android%E8%BE%93%E5%85%A5%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/25/20201025_%E7%A6%81%E7%94%A8android%E8%BE%93%E5%85%A5%E6%B3%95/" class="post-title-link" itemprop="url">禁用Android输入法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-25 19:33:59" itemprop="dateCreated datePublished" datetime="2020-10-25T19:33:59+08:00">2020-10-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KeyboardUtils</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">KeyboardUtils</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 启用软键盘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">enableKeyboard</span><span class="params">(Activity activity)</span> </span>&#123;</span><br><span class="line">        activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁用软键盘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">disableKeyboard</span><span class="params">(Activity activity)</span></span>&#123;</span><br><span class="line">        activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SIP_HIDE_FORCED = <span class="number">242</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SIP_RESET_HIDE_FORCED = <span class="number">243</span>;</span><br><span class="line"></span><br><span class="line">InputMethodManager inputMethodManager = (InputMethodManager) context.getSystemService(<span class="string">&quot;input_method&quot;</span>);</span><br><span class="line">inputMethodManager.hideSoftInputFromWindow(<span class="keyword">null</span>, SIP_HIDE_FORCED);</span><br><span class="line">inputMethodManager.hideSoftInputFromWindow(<span class="keyword">null</span>, SIP_RESET_HIDE_FORCED);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/18/20200918_intellij%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/18/20200918_intellij%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">intellij插件开发，一键遍历，一键提取，一键翻译，一键生成，一键搞定</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-18 22:02:18" itemprop="dateCreated datePublished" datetime="2020-09-18T22:02:18+08:00">2020-09-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//返回此项目下的所有子文件</span></span><br><span class="line">VirtualFile[] children = project.getBaseDir().getChildren();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle</span><span class="params">(VirtualFile[] children)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (VirtualFile child : children) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!child.getName().equals(<span class="string">&quot;文件夹名&quot;</span>)) &#123;</span><br><span class="line">                <span class="comment">// 1. 递归找java名称的文件夹</span></span><br><span class="line">                handle(child.getChildren());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 2. 找到了java名称的文件夹，再次递归</span></span><br><span class="line">                handle2(child.getChildren());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle2</span><span class="params">(VirtualFile[] children)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (VirtualFile child : children) &#123;</span><br><span class="line">            <span class="keyword">if</span> (child.getName().endsWith(<span class="string">&quot;.java&quot;</span>)) &#123;</span><br><span class="line">                layoutName = child.getName();</span><br><span class="line">                System.out.println(<span class="string">&quot;第&quot;</span> + cout++ + <span class="string">&quot;个：&quot;</span> + layoutName);</span><br><span class="line">                <span class="comment">// 处理所有的.java文件</span></span><br><span class="line">                handLayout(layoutName);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                handle2(child.getChildren());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历当前文件找到字符串</span></span><br><span class="line">StringReader inReader = <span class="keyword">new</span> StringReader(file.getText());</span><br><span class="line">BufferedReader bufReader = <span class="keyword">new</span> BufferedReader(inReader);</span><br><span class="line">String packageName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">String lineText;</span><br><span class="line"><span class="keyword">while</span> ((lineText = bufReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取包名，以包名作为key的命名规则，package com.ycc.abnormalcall.activity;</span></span><br><span class="line">    String pg = <span class="string">&quot;package com.ycc.&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (lineText.contains(pg)) &#123;</span><br><span class="line">        <span class="comment">// abnormalcall.activity;</span></span><br><span class="line">        String substring = lineText.substring(pg.length());</span><br><span class="line">        <span class="keyword">if</span> (substring.endsWith(<span class="string">&quot;;&quot;</span>)) &#123;</span><br><span class="line">            substring = substring.replace(<span class="string">&quot;;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String[] split = substring.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">        <span class="comment">// abnormalcall</span></span><br><span class="line">        packageName = split[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 匹配括弧里面的中英文 (&quot;&quot;)</span></span><br><span class="line">    String reg = <span class="string">&quot;\\(\\\&quot;.*[\\u4e00-\\u9fa5]+.*\\\&quot;\\)&quot;</span>;</span><br><span class="line">    Matcher matcher = Pattern.compile(reg).matcher(lineText);</span><br><span class="line">    <span class="keyword">if</span> (matcher.find()) &#123;</span><br><span class="line">        <span class="comment">//(&quot;异常呼入&quot;)</span></span><br><span class="line">        <span class="comment">//(&quot;容器号LPN不能为空&quot;)</span></span><br><span class="line">        String group = matcher.group(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 匹配 ---》 取出双引号的内容</span></span><br><span class="line">        String p = <span class="string">&quot;\&quot;([^\&quot;]*)\&quot;&quot;</span>;</span><br><span class="line">        Matcher m1 = Pattern.compile(p).matcher(group);</span><br><span class="line">        <span class="keyword">if</span> (m1.find()) &#123;</span><br><span class="line">            String group1 = m1.group(<span class="number">0</span>);</span><br><span class="line">            <span class="comment">// $1, 取出正则表达式第一个括弧内容</span></span><br><span class="line">            String word = group1.replaceAll(p, <span class="string">&quot;$1&quot;</span>);</span><br><span class="line">            <span class="comment">//异常呼入</span></span><br><span class="line">            <span class="comment">//容器号LPN不能为空</span></span><br><span class="line">            System.out.println(word);</span><br><span class="line">            soureces.add(word);</span><br><span class="line">            String key = packageName + <span class="string">&quot;_&quot;</span>;</span><br><span class="line">            dataBeans.add(<span class="keyword">new</span> DataBean(key, word));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        flag = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">bufReader.close();</span><br><span class="line">inReader.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 翻译</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">translate</span><span class="params">(PsiFile file, List&lt;String&gt; sources, List&lt;DataBean&gt; dataBeans)</span> </span>&#123;</span><br><span class="line">flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">new</span> GetTranslationTask(project, <span class="string">&quot;翻译中&quot;</span>, sources, result -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dataBeans.size(); i++) &#123;</span><br><span class="line">            DataBean dataBean = dataBeans.get(i);</span><br><span class="line">            String str = dataBean.getKey() + StringUtils.formatStr(result.get(i));</span><br><span class="line">            dataBean.setKey(str);</span><br><span class="line">        &#125;</span><br><span class="line">        handResult(file, dataBeans);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        showDialog(<span class="string">&quot;翻译异常&quot;</span>, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).setCancelText(<span class="string">&quot;Translation Has Been Canceled&quot;</span>).queue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拼接写入字符串的内容</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getShowContent</span><span class="params">(List&lt;DataBean&gt; attributeValues, String stringPath)</span> </span>&#123;</span><br><span class="line">    StringBuilder block = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    block.append(<span class="string">&quot;&lt;!--################ &quot;</span>).append(layoutName).append(<span class="string">&quot; start ################--&gt;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (DataBean dataBean : attributeValues) &#123;</span><br><span class="line">        <span class="comment">// 处理key值</span></span><br><span class="line">        String keyStr = dataBean.getKey();</span><br><span class="line">        <span class="comment">// [\pP+~$`^=|&lt;&gt;～｀＄＾＋＝｜＜＞￥×]	匹配字母或数字或下划线 --&gt; 过滤掉特殊符号 &amp;!</span></span><br><span class="line">        String ss = keyStr.replaceAll(<span class="string">&quot;[\\pP+~$`^=|&lt;&gt;～｀＄＾＋＝｜＜＞￥×]&quot;</span>, <span class="string">&quot;_&quot;</span>);</span><br><span class="line">        <span class="comment">// 是否有重复的key和value</span></span><br><span class="line">        <span class="keyword">if</span> (isRepeat(ss, stringPath)) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        block.append(<span class="string">&quot;&lt;string name=\&quot;&quot;</span>);</span><br><span class="line">        block.append(ss);</span><br><span class="line">        block.append(<span class="string">&quot;\&quot;&gt;&quot;</span>);</span><br><span class="line">        <span class="comment">// 处理value值</span></span><br><span class="line">        <span class="keyword">if</span> (stringPath.contains(<span class="string">&quot;values-zh-rCN&quot;</span>)) &#123;</span><br><span class="line">            block.append(dataBean.getValue());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            String key = dataBean.getKey();</span><br><span class="line"><span class="comment">//                String str = &quot;layout_&quot;;</span></span><br><span class="line"><span class="comment">//                int startIndex = key.indexOf(str) + str.length();</span></span><br><span class="line"><span class="comment">//                String substring = key.substring(startIndex);</span></span><br><span class="line">            String substring = key.substring(key.indexOf(<span class="string">&quot;_&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (substring.contains(<span class="string">&quot;_&quot;</span>)) &#123;</span><br><span class="line">                String[] s = substring.split(<span class="string">&quot;_&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (String value : s) &#123;</span><br><span class="line">                    block.append(value).append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                block.deleteCharAt(block.length() - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                block.append(substring);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        block.append(<span class="string">&quot;&lt;/string&gt;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    block.append(<span class="string">&quot;&lt;!--################ &quot;</span>).append(layoutName).append(<span class="string">&quot; end ################--&gt;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> block.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改java代码里面的字符串</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">changeXml</span><span class="params">(PsiFile file, List&lt;DataBean&gt; dataBeans)</span> </span>&#123;</span><br><span class="line">    WriteCommandAction.runWriteCommandAction(project, () -&gt; &#123;</span><br><span class="line">        VirtualFile virtualFile = file.getVirtualFile();</span><br><span class="line">        Document document = FileDocumentManager.getInstance().getDocument(virtualFile);</span><br><span class="line">        <span class="keyword">if</span> (document != <span class="keyword">null</span>) &#123;</span><br><span class="line">            String text = document.getText();</span><br><span class="line">            <span class="keyword">for</span> (DataBean attributeValue : dataBeans) &#123;</span><br><span class="line">                text = text.replace(<span class="string">&quot;\&quot;&quot;</span> + attributeValue.getValue() + <span class="string">&quot;\&quot;&quot;</span>, <span class="string">&quot;R.string.&quot;</span> + attributeValue.getKey());</span><br><span class="line">            &#125;</span><br><span class="line">            document.setText(text);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 往strings.xml中写内容</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeContentXml</span><span class="params">(String stringPath, List&lt;DataBean&gt; dataBeans)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//获取内容</span></span><br><span class="line">    String content = getShowContent(dataBeans, stringPath);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// String stringPath = project.getBasePath() + &quot;/app/src/main/res/values/strings.xml&quot;;</span></span><br><span class="line">        VirtualFile virtualFile = LocalFileSystem.getInstance().findFileByPath(stringPath);</span><br><span class="line">        <span class="keyword">if</span> (virtualFile != <span class="keyword">null</span>) &#123;</span><br><span class="line">            Runnable runnable = () -&gt; &#123;</span><br><span class="line">                Document document = FileDocumentManager.getInstance().getDocument(virtualFile);</span><br><span class="line">                <span class="keyword">if</span> (document != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> lineCount = document.getLineCount();</span><br><span class="line">                    <span class="keyword">int</span> lineNumber = document.getLineStartOffset(lineCount - <span class="number">1</span>);</span><br><span class="line">                    document.insertString(lineNumber, content);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            WriteCommandAction.runWriteCommandAction(project, runnable);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            showDialog(<span class="string">&quot;strings.xml文件没找到&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/08/15/20200815_gradle%E4%B8%8B%E8%BD%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/15/20200815_gradle%E4%B8%8B%E8%BD%BD/" class="post-title-link" itemprop="url">gradle下载</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-15 12:44:00" itemprop="dateCreated datePublished" datetime="2020-08-15T12:44:00+08:00">2020-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>新建 gradle.properties 文件，加上 <code>org.gradle.jvmargs=-DsocksProxyHost=127.0.0.1 -DsocksProxyPort=10808</code></p>
</li>
<li><p>如下图设置</p>
<img src="/images/20200815_gradle下载.jpg" class="nofancybox"/></li>
<li><p>Android studio Connection refused: connect<br>因为手动设置过一次代理后 studio 就会在 C 盘里面生成一个代理文件，而后 studio 每次编译都会去读取 C 盘路径的文件，删除 C:\Users\pc.gradle 路径下面的 gradle.properties 文件</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/03/20200703_UML%E7%B1%BB%E5%9B%BE%E5%92%8C%E6%97%B6%E5%BA%8F%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ycc">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="改变、突破">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/03/20200703_UML%E7%B1%BB%E5%9B%BE%E5%92%8C%E6%97%B6%E5%BA%8F%E5%9B%BE/" class="post-title-link" itemprop="url">UML类图和时序图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-03 11:17:32" itemprop="dateCreated datePublished" datetime="2020-07-03T11:17:32+08:00">2020-07-03</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/images/20200703_UML类图.png" class="nofancybox"/>


<blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/YuanMxy/article/details/81211594">https://blog.csdn.net/YuanMxy/article/details/81211594</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ycc</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ycc</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
